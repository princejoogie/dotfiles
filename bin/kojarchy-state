#!/bin/bash

# Manage persistent state files for toggles and settings.
# Usage: kojarchy-state <set|clear> <state-name>

STATE_DIR="$HOME/.local/state/kojarchy"
mkdir -p "$STATE_DIR"

COMMAND="$1"
STATE_NAME="$2"

if [[ -z "$COMMAND" || -z "$STATE_NAME" ]]; then
  echo "Usage: kojarchy-state <set|clear> <state-name>"
  exit 1
fi

case "$COMMAND" in
  set) touch "$STATE_DIR/$STATE_NAME" ;;
  clear) find "$STATE_DIR" -maxdepth 1 -type f -name "$STATE_NAME" -delete ;;
esac
